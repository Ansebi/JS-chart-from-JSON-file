<html>

<body>
<div id="the_div">Hidden value</div>
<div id="address_div"></div>
<button onclick="readAndShowValue_(FILE_ADDRESS_)">Read and Display</button>

<script>
let FILE_ADDRESS_ = "http://localhost:8000/integer_to_read";
document.getElementById("address_div").innerHTML = "File to parse: " + FILE_ADDRESS_;

function revealMessage_(message_) {
  var message_;
  document.getElementById("the_div").innerHTML = message_;
}

async function readIntFromFile_(address_) {
  const resp_ = await fetch(address_, {cache: "reload"});
  const value_str_ = await resp_.text();
  const value_ = parseInt(value_str_)
  return value_;
}

async function readAndShowValue_(address_) {
  const value_ = await readIntFromFile_(address_);
  revealMessage_(value_);
}
</script>

</body>
</html>
